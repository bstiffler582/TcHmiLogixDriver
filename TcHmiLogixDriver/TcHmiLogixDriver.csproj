<Project Sdk="Microsoft.NET.Sdk">

	<PropertyGroup>
		<TargetFramework>net8.0</TargetFramework>
		<!--
			According to the release notes, all .NET target frameworks greater than net5.0 require at least Visual Studio 2022:
			https://github.com/dotnet/core/blob/main/release-notes/6.0/6.0.0/6.0.0.md#visual-studio-compatibility
			Therefore, when running in Visual Studio 2019 and detecting a higher .NET target framework, reset it to the last supported one.
		-->
		<TargetFramework Condition="'$(VisualStudioVersion)'=='16.0' AND $([System.String]::Compare('$(TargetFramework)', 'net5.0')) &gt; 0">net5.0</TargetFramework>
		<CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
		<AssemblyName>TcHmiLogixDriver</AssemblyName>
	</PropertyGroup>

	<PropertyGroup>
		<Company>Beckhoff USA Community</Company>
		<Description>An EtherNet/IP driver for TwinCAT HMI</Description>
		<Copyright></Copyright>
	</PropertyGroup>

	<PropertyGroup>
		<AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
	</PropertyGroup>

	<!--
		The following property group is used by TwinCAT HMI Engineering to determine the current project version.
		PLEASE DON'T CHANGE IT!
	-->
	<PropertyGroup>
		<TcHmiProjectFileVersion>1.0.0.0</TcHmiProjectFileVersion>
	</PropertyGroup>
	
	<!--
		Set GeneratePackageOnBuild to true in the following property group to generate a NuGet package on build.
		For more information about creating a NuGet package using MSBuild, see the following article:
		https://learn.microsoft.com/en-us/nuget/create-packages/creating-a-package-msbuild
	-->
	<PropertyGroup>
		<GeneratePackageOnBuild>False</GeneratePackageOnBuild>
	</PropertyGroup>

	<PropertyGroup>
		<TcHmiExtensionTypes>{165402F8-2FAD-480A-BCE3-D718A6135931}</TcHmiExtensionTypes>
	</PropertyGroup>

	<ItemGroup>
		<!-- Exclude runtime assets to not copy files from dependent NuGet packages to the output directory. -->
		<!-- Declare all assets private to not make a created NuGet package dependent on them. -->
		<PackageReference Include="Beckhoff.TwinCAT.HMI.TcHmiSrvExtNet.Core.SDK" Version="3.0.7480">
			<ExcludeAssets>runtime</ExcludeAssets>
			<PrivateAssets>all</PrivateAssets>
			<IncludeAssets>compile; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
		</PackageReference>
		<PackageReference Include="libplctag" Version="1.5.2" />
	</ItemGroup>

	<ItemGroup>
	  <ProjectReference Include="..\LogixDriver\LogixDriver.csproj" />
	</ItemGroup>

	<ItemGroup>
	  <Folder Include="Properties\" />
	</ItemGroup>

	<ItemGroup>
	  <None Include="..\README.md">
	    <Pack>True</Pack>
	    <PackagePath>\</PackagePath>
	  </None>
	</ItemGroup>

	<PropertyGroup>
		<ProjectGuid>fcc09cd0-3b69-4915-a4b4-d02e5d73f4f5</ProjectGuid>
		<Title>TwinCAT HMI Logix Driver</Title>
		<PackageProjectUrl>https://github.com/bstiffler582/TcHmiLogixDriver</PackageProjectUrl>
		<PackageReadmeFile>README.md</PackageReadmeFile>
		<RepositoryUrl>https://github.com/bstiffler582/TcHmiLogixDriver</RepositoryUrl>
		<RepositoryType>git</RepositoryType>
		<PackageTags>twincat hmi rockwell ab eip cip</PackageTags>
		<AssemblyVersion>0.1.3</AssemblyVersion>
		<Version>$(AssemblyVersion)</Version>
		<PackageOutputPath>..\release</PackageOutputPath>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCPU'">
	  <IsPublishable>False</IsPublishable>
	  <DebugType>embedded</DebugType>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|AnyCPU'">
	  <IsPublishable>False</IsPublishable>
	  <DebugType>embedded</DebugType>
	</PropertyGroup>

</Project>